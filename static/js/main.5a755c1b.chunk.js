(this["webpackJsonpcloud-music"]=this["webpackJsonpcloud-music"]||[]).push([[0],{77:function(n,e,t){"use strict";t.r(e);var o={};t.r(o),t.d(o,"changeBannerList",(function(){return on})),t.d(o,"changeRecommendList",(function(){return cn})),t.d(o,"changeLoading",(function(){return rn})),t.d(o,"getBannerList",(function(){return an})),t.d(o,"getRecommendList",(function(){return sn}));var i,c,r,a,s,l,d,f,b,u,p=t(0),h=t.n(p),j=t(17),m=t.n(j),g=t(20),x=t(18),O=t(14),v=t(4),w=t(5),y=Object(w.a)(i||(i=Object(v.a)(["\n@font-face {\n  font-family: 'iconfont';\n  src: url('/iconfont/iconfont.ttf?t=1630588547146') format('truetype');\n}\n\n.iconfont {\n  font-family: \"iconfont\" !important;\n  font-size: 16px;\n  font-style: normal;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n"]))),k=t(3),L={"theme-color":"#d44439","theme-color-shadow":"rgba (212, 68, 57, .5)","font-color-light":"#f1f1f1","font-color-desc":"#2E3030","font-color-desc-v2":"#bba8a8","font-size-ss":"10px","font-size-s":"12px","font-size-m":"14px","font-size-l":"16px","font-size-ll":"18px","border-color":"#e4e4e4","background-color":"#f2f3f4","background-color-shadow":"rgba (0, 0, 0, 0.3)","highlight-background-color":"#fff",extendClick:function(){return"\n        position: relative;\n        &:before {\n            content: '',\n            position: absolute;\n            top: -10px;\n            bottom: -10px;\n            left: -10px;\n            right: -10px;\n        }\n    "},noWrap:function(){return"\n      text-overflow: ellipsis;\n      overflow: hidden;\n      white-space: nowrap;\n    "}},N=t(1),E=w.b.div(c||(c=Object(v.a)(["\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  padding: 5px 10px;\n  background: ",";\n  & > span {\n    line-height: 40px;\n    color: #f1f1f1;\n    font-size: 20px;\n    &.iconfont {\n      font-size: 25px;\n    }\n  }\n"])),L["theme-color"]),z=w.b.div(r||(r=Object(v.a)(["\n  height: 44px;\n  display: flex;\n  flex-direction: row;\n  justify-content: space-around;\n  background: ",";\n  a {\n    flex: 1;\n    padding: 2px 0;\n    font-size: 14px;\n    color: #e4e4e4;\n    &.selected {\n      span {\n        padding: 3px 0;\n        font-weight: 700;\n        color: #f1f1f1;\n        border-bottom: 2px solid #f1f1f1;\n      }\n    }\n  }\n"])),L["theme-color"]),S=w.b.div(a||(a=Object(v.a)(["\n  height: 100%;\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n"]))),D=t(19),_=t.n(D),R=Object(w.c)(s||(s=Object(v.a)(["\n    0%, 100% {\n        transform: scale(0)\n    }\n    50% {\n        transform: scale(1)\n    }\n"]))),C=w.b.div(l||(l=Object(v.a)(["\n  > div {\n    position: fixed;\n    z-index: 1000;\n    left: 0;\n    right: 0;\n    top: 0;\n    bottom: 0;\n    margin: auto;\n    width: 60px;\n    height: 60px;\n    opacity: 0.6;\n    border-radius: 50%;\n    background-color: ",";\n    animation: "," 1.4s infinite ease-in;\n  }\n\n  > div:nth-child(2) {\n    animation-delay: 0.7s;\n  }\n"])),L["theme-color"],R),B=h.a.memo((function(){return Object(N.jsxs)(C,{children:[Object(N.jsx)("div",{}),Object(N.jsx)("div",{})]})})),q=function(n){if(!(n<0))return n<1e4?n:Math.floor(n/1e4)<1e4?Math.floor(n/1e3)/10+"\u4e07":Math.floor(n/1e7)/10+"\u4ebf"},M=w.b.div(d||(d=Object(v.a)(["\n  max-width: 100%;\n  .title {\n    font-weight: 700;\n    padding-left: 6px;\n    font-size: 14px;\n    line-height: 60px;\n  }\n"]))),T=w.b.div(f||(f=Object(v.a)(["\n  width: 100%;\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  justify-content: space-around;\n"]))),U=w.b.div(b||(b=Object(v.a)(["\n  position: relative;\n  width: 32%;\n\n  .image-wrapper {\n    .decorate {\n      position: absolute;\n      top: 0;\n      width: 100%;\n      height: 35px;\n      border-radius: 3px;\n      background: linear-gradient(hsla(0, 0%, 43%, 0.4), hsla(0, 0%, 100%, 0));\n    }\n    position: relative;\n    height: 0;\n    padding-bottom: 100%;\n    .play-count {\n      position: absolute;\n      right: 2px;\n      top: 2px;\n      font-size: ",";\n      line-height: 15px;\n      color: ",";\n      .play {\n        vertical-align: top;\n      }\n    }\n    img {\n      position: absolute;\n      width: 100%;\n      height: 100%;\n      border-radius: 3px;\n    }\n  }\n  .desc {\n    overflow: hidden;\n    margin-top: 2px;\n    padding: 0 2px;\n    height: 50px;\n    text-align: left;\n    font-size: ",";\n    line-height: 1.4;\n    color: ",";\n  }\n"])),L["font-size-s"],L["font-color-light"],L["font-size-s"],L["font-color-desc"]),A=h.a.memo((function(n){var e=n.recommendList;return Object(N.jsxs)(M,{children:[Object(N.jsx)("h1",{className:"title",children:"\u63a8\u8350\u6b4c\u5355"}),Object(N.jsx)(T,{children:e.map((function(n){return Object(N.jsxs)(U,{children:[Object(N.jsxs)("div",{className:"image-wrapper",children:[Object(N.jsx)(_.a,{placeholder:Object(N.jsx)("img",{src:"https://p1.music.126.net/hSrYgWVp_LKnE2EPZdt_dQ==/109951165779590359.jpg",alt:"\u63a8\u8350",height:"100%",width:"100%"}),children:Object(N.jsx)("img",{src:n.picUrl,alt:"\u63a8\u8350",height:"100%",width:"100%"})}),Object(N.jsx)("div",{className:"decorate"}),Object(N.jsxs)("div",{className:"play-count",children:[Object(N.jsx)("i",{className:"iconfont play",children:"\ue885"}),Object(N.jsx)("span",{className:"count",children:q(n.playCount)})]})]}),Object(N.jsx)("div",{className:"desc",children:n.name})]},n.id)}))})]})})),I=t(21),H=t(40),G=w.b.div(u||(u=Object(v.a)(["\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n"]))),J=Object(p.forwardRef)((function(n,e){var t=n.direction,o=n.click,i=n.refresh,c=n.onScroll,r=n.pullUp,a=n.pullDown,s=n.bounceTop,l=n.bounceBottom,d=Object(p.useState)(null),f=Object(I.a)(d,2),b=f[0],u=f[1],h=Object(p.useRef)();return Object(p.useEffect)((function(){var n=new H.a(h.current,{scrollX:"horizental"===t,scrollY:"vertical"===t,probeType:3,click:o,bounce:{top:s,bottom:l}});return u(n),function(){u(null)}}),[]),Object(p.useEffect)((function(){i&&b&&b.refresh()})),Object(p.useEffect)((function(){if(b&&c)return b.on("scroll",c),function(){b.off(c)}}),[c,b]),Object(p.useEffect)((function(){if(b&&r)return b.on("scrollEnd",(function(){b.y<=b.maxScrollY+100&&r()})),function(){b.off("scrollEnd")}}),[r,b]),Object(p.useEffect)((function(){if(b&&a)return b.on("touchEnd",(function(n){n.y<=50&&a()})),function(){b.off("scrollEnd")}}),[a,b]),Object(p.useImperativeHandle)(e,(function(){return{refresh:function(){b&&(b.refresh(),b.scrollTo(0,0))},getBScroll:function(){return b||void 0}}})),Object(N.jsx)(G,{ref:h,children:n.children})}));J.defaultProps={direction:"vertical",click:!0,refresh:!0,onScroll:null,pullDown:null,pullUp:null,pullDownLoading:!0,pullUpLoading:!0,bounceTop:!0,bounceBottom:!0};var P,W=t(43),X=(t(58),w.b.div(P||(P=Object(v.a)(["\n  position: relative;\n  box-sizing: border-box;\n  width: 100%;\n  height: 100%;\n  margin: auto;\n  background: white;\n  .before {\n    position: absolute;\n    top: -300px;\n    height: 400px;\n    width: 100%;\n    background: ",";\n  }\n  .slider-container {\n    position: relative;\n    width: 98%;\n    height: 160px;\n    overflow: hidden;\n    margin: auto;\n    border-radius: 6px;\n    .slider-nav {\n      position: absolute;\n      display: block;\n      width: 100%;\n      height: 100%;\n    }\n    .swiper-pagination-bullet-active {\n      background: ",";\n    }\n  }\n"])),L["theme-color"],L["theme-color"])),Y=h.a.memo((function(n){var e=n.bannerList,t=Object(p.useState)(null),o=Object(I.a)(t,2),i=o[0],c=o[1];return Object(p.useEffect)((function(){if(e.length&&!i){var n=new W.a(".slider-container",{loop:!0,autoplay:{delay:3e3,disableOnInteraction:!1},pagination:{el:".swiper-pagination"}});c(n)}}),[e.length,i]),Object(N.jsxs)(X,{children:[Object(N.jsx)("div",{className:"before"}),Object(N.jsxs)("div",{className:"slider-container",children:[Object(N.jsx)("div",{className:"swiper-wrapper",children:e.map((function(n){return Object(N.jsx)("div",{className:"swiper-slide",children:Object(N.jsx)("div",{className:"slider-nav",children:Object(N.jsx)("img",{src:n.imageUrl,alt:"test",width:"100%",height:"100%"})})},n.imageUrl)}))}),Object(N.jsx)("div",{className:"swiper-pagination"})]})]})})),V=t(16),K="recommend/CHANGE_BANNER",Q="recommend/CHANGE_RECOMMEND_LIST",Z="recommend/CHANGE_LOADING",F=Object(V.a)({bannerList:[],recommendList:[],loading:!0});var $=t(41),nn=t.n($).a.create({baseURL:"https://xunserver-music.vercel.app/"});nn.interceptors.response.use((function(n){return n.data}));var en,tn,on=function(n){return{type:K,data:Object(V.a)(n)}},cn=function(n){return{type:Q,data:Object(V.a)(n)}},rn=function(n){return{type:Z,data:n}},an=function(){return function(n){nn.get("/banner").then((function(e){n(on(e.banners))})).catch(console.log)}},sn=function(){return function(n){nn.get("/personalized").then((function(e){n(cn(e.result)),n(rn(!1))})).catch(console.log)}},ln=w.b.div(en||(en=Object(v.a)(["\n  position: fixed;\n  top: 90px;\n  bottom: 0;\n  width: 100%;\n"]))),dn=function(n){var e=n.bannerList,t=n.recommendList,o=n.loading,i=n.getBannerDataDispatch,c=n.getRecommendDataDispatch;Object(p.useEffect)((function(){i(),c()}),[]);var r=e?e.toJS():[],a=t?t.toJS():[];return Object(N.jsxs)(ln,{children:[o&&Object(N.jsx)(B,{}),Object(N.jsx)(J,{onScroll:D.forceCheck,children:Object(N.jsxs)("div",{children:[Object(N.jsx)(Y,{bannerList:r}),Object(N.jsx)(A,{recommendList:a})]})})]})},fn=[{path:"/",component:function(n){var e=n.route;return Object(N.jsxs)("div",{children:[Object(N.jsxs)(E,{children:[Object(N.jsx)("span",{className:"iconfont menu",children:"\ue65c"}),Object(N.jsx)("span",{className:"title",children:"WebApp"}),Object(N.jsx)("span",{className:"iconfont search",children:"\ue62b"})]}),Object(N.jsxs)(z,{children:[Object(N.jsx)(O.b,{to:"/recommend",activeClassName:"selected",children:Object(N.jsx)(S,{children:Object(N.jsx)("span",{children:" \u63a8\u8350 "})})}),Object(N.jsx)(O.b,{to:"/singers",activeClassName:"selected",children:Object(N.jsx)(S,{children:Object(N.jsx)("span",{children:" \u6b4c\u624b "})})}),Object(N.jsx)(O.b,{to:"/rank",activeClassName:"selected",children:Object(N.jsx)(S,{children:Object(N.jsx)("span",{children:" \u6392\u884c\u699c "})})})]}),Object(x.a)(e.routes)]})},routes:[{path:"/",exact:!0,render:function(){return Object(N.jsx)(k.a,{to:"recommend"})}},{path:"/recommend",component:dn=Object(g.b)((function(n){return{bannerList:n.recommend.get("bannerList"),recommendList:n.recommend.get("recommendList"),loading:n.recommend.get("loading")}}),(function(n){return{getBannerDataDispatch:function(){n(o.getBannerList())},getRecommendDataDispatch:function(){n(o.getRecommendList())}}}))(h.a.memo(dn))},{path:"/singers",component:function(){return Object(N.jsx)("div",{children:"Singers"})}},{path:"/rank",component:function(){return Object(N.jsx)("div",{children:"Rank"})}}]}],bn=t(15),un=t(42),pn=Object(bn.b)({recommend:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case K:return n.set("bannerList",e.data);case Q:return n.set("recommendList",e.data);case Z:return n.set("loading",e.data);default:return n}}}),hn=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||bn.c,jn=Object(bn.d)(pn,hn(Object(bn.a)(un.a))),mn=Object(w.a)(tn||(tn=Object(v.a)(["\n\thtml, body, div, span, applet, object, iframe,\n\th1, h2, h3, h4, h5, h6, p, blockquote, pre,\n\ta, abbr, acronym, address, big, cite, code,\n\tdel, dfn, em, img, ins, kbd, q, s, samp,\n\tsmall, strike, strong, sub, sup, tt, var,\n\tb, u, i, center,\n\tdl, dt, dd, ol, ul, li,\n\tfieldset, form, label, legend,\n\ttable, caption, tbody, tfoot, thead, tr, th, td,\n\tarticle, aside, canvas, details, embed, \n\tfigure, figcaption, footer, header, hgroup, \n\tmenu, nav, output, ruby, section, summary,\n\ttime, mark, audio, video {\n\t\tmargin: 0;\n\t\tpadding: 0;\n\t\tborder: 0;\n\t\tfont-size: 100%;\n\t\tfont: inherit;\n\t\tvertical-align: baseline;\n\t}\n\t/* HTML5 display-role reset for older browsers */\n\tarticle, aside, details, figcaption, figure, \n\tfooter, header, hgroup, menu, nav, section {\n\t\tdisplay: block;\n\t}\n\tbody {\n\t\tline-height: 1;\n\t}\n\thtml, body {\n\t\tbackground: #f2f3f4;;\n\t}\n\tol, ul {\n\t\tlist-style: none;\n\t}\n\tblockquote, q {\n\t\tquotes: none;\n\t}\n\tblockquote:before, blockquote:after,\n\tq:before, q:after {\n\t\tcontent: '';\n\t\tcontent: none;\n\t}\n\ttable {\n\t\tborder-collapse: collapse;\n\t\tborder-spacing: 0;\n\t}\n\ta {\n\t\ttext-decoration: none;\n\t\tcolor: #fff;\n\t}\n"])));function gn(){return Object(N.jsxs)(g.a,{store:jn,children:[Object(N.jsx)(mn,{}),Object(N.jsx)(y,{}),Object(N.jsx)(O.a,{children:Object(x.a)(fn)})]})}m.a.render(Object(N.jsx)(h.a.StrictMode,{children:Object(N.jsx)(gn,{})}),document.getElementById("root"))}},[[77,1,2]]]);
//# sourceMappingURL=main.5a755c1b.chunk.js.map