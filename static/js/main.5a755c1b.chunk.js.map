{"version":3,"sources":["assets/iconfont/index.js","assets/style/index.js","applications/Home/index.jsx","components/Loading/index.jsx","apis/utils.js","components/RecommendList/index.jsx","components/Scroll/index.js","components/Slider/index.jsx","applications/Recommend/store/constants.js","applications/Recommend/store/reducer.js","apis/config.js","apis/request.js","applications/Recommend/store/actionCreators.js","applications/Recommend/index.jsx","routes/index.js","applications/Singers/index.jsx","applications/Rank/index.jsx","store/reducer.js","store/index.js","style.js","App.js","index.js"],"names":["IconStyle","createGlobalStyle","style","extendClick","noWrap","Top","styled","div","Tab","TabItem","loading","keyframes","LoadingContainer","Loading","React","memo","getCount","count","Math","floor","ListWrapper","List","ListItem","RecommendList","recommendList","className","map","recommend","placeholder","src","alt","height","width","picUrl","playCount","name","id","ScrollContainer","Scroll","forwardRef","props","ref","direction","click","refresh","onScroll","pullUp","pullDown","bounceTop","bounceBottom","useState","bScroll","setBScroll","scrollContainerRef","useRef","useEffect","scroll","BScroll","current","scrollX","scrollY","probeType","bounce","top","bottom","on","off","y","maxScrollY","pos","useImperativeHandle","scrollTo","getBScroll","undefined","children","defaultProps","pullDownLoading","pullUpLoading","SliderContainer","Slider","bannerList","sliderSwiper","setSliderSwiper","length","newSliderSwiper","Swiper","loop","autoplay","delay","disableOnInteraction","pagination","el","banner","imageUrl","CHANGE_BANNER","CHANGE_RECOMMEND_LIST","CHANGE_LOADING","defaultState","fromJS","instance","axios","create","baseURL","interceptors","response","use","data","changeBannerList","type","actionTypes","changeRecommendList","changeLoading","getBannerList","dispatch","get","then","banners","catch","console","log","getRecommendList","result","ContentContainer","Recommend","getBannerDataDispatch","getRecommendDataDispatch","bannerListJS","toJS","recommendListJS","forceCheck","routes","path","component","route","to","activeClassName","renderRoutes","exact","render","connect","state","actinCreators","combineReducers","action","set","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","reducer","applyMiddleware","thunk","GlobalStyle","App","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.5a755c1b.chunk.js","sourcesContent":["import { createGlobalStyle } from \"styled-components\";\n\nexport const IconStyle = createGlobalStyle`\n@font-face {\n  font-family: 'iconfont';\n  src: url('/iconfont/iconfont.ttf?t=1630588547146') format('truetype');\n}\n\n.iconfont {\n  font-family: \"iconfont\" !important;\n  font-size: 16px;\n  font-style: normal;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n`\n","const extendClick = () => {\r\n  return `\r\n        position: relative;\r\n        &:before {\r\n            content: '',\r\n            position: absolute;\r\n            top: -10px;\r\n            bottom: -10px;\r\n            left: -10px;\r\n            right: -10px;\r\n        }\r\n    `;\r\n};\r\n\r\nconst noWrap = () => {\r\n  return `\r\n      text-overflow: ellipsis;\r\n      overflow: hidden;\r\n      white-space: nowrap;\r\n    `;\r\n};\r\nexport const style = {\r\n  \"theme-color\": \"#d44439\",\r\n  \"theme-color-shadow\": \"rgba (212, 68, 57, .5)\",\r\n  \"font-color-light\": \"#f1f1f1\",\r\n  \"font-color-desc\": \"#2E3030\",\r\n  \"font-color-desc-v2\": \"#bba8a8\", // 略淡\r\n  \"font-size-ss\": \"10px\",\r\n  \"font-size-s\": \"12px\",\r\n  \"font-size-m\": \"14px\",\r\n  \"font-size-l\": \"16px\",\r\n  \"font-size-ll\": \"18px\",\r\n  \"border-color\": \"#e4e4e4\",\r\n  \"background-color\": \"#f2f3f4\",\r\n  \"background-color-shadow\": \"rgba (0, 0, 0, 0.3)\",\r\n  \"highlight-background-color\": \"#fff\",\r\n  extendClick,\r\n  noWrap,\r\n};\r\n\r\nexport default style;\r\n","import { renderRoutes } from \"react-router-config\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport styled from \"styled-components\";\r\nimport style from \"../../assets/style\";\r\n\r\nconst Top = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: space-between;\r\n  padding: 5px 10px;\r\n  background: ${style[\"theme-color\"]};\r\n  & > span {\r\n    line-height: 40px;\r\n    color: #f1f1f1;\r\n    font-size: 20px;\r\n    &.iconfont {\r\n      font-size: 25px;\r\n    }\r\n  }\r\n`;\r\n\r\nexport const Tab = styled.div`\r\n  height: 44px;\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: space-around;\r\n  background: ${style[\"theme-color\"]};\r\n  a {\r\n    flex: 1;\r\n    padding: 2px 0;\r\n    font-size: 14px;\r\n    color: #e4e4e4;\r\n    &.selected {\r\n      span {\r\n        padding: 3px 0;\r\n        font-weight: 700;\r\n        color: #f1f1f1;\r\n        border-bottom: 2px solid #f1f1f1;\r\n      }\r\n    }\r\n  }\r\n`\r\nexport const TabItem = styled.div`\r\n  height: 100%;\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: center;\r\n  align-items: center;\r\n`\r\n\r\nexport const Home = ({ route }) => {\r\n  return (\r\n    <div>\r\n      <Top>\r\n        <span className=\"iconfont menu\">&#xe65c;</span>\r\n        <span className=\"title\">WebApp</span>\r\n        <span className=\"iconfont search\">&#xe62b;</span>\r\n      </Top>\r\n      <Tab>\r\n        <NavLink to=\"/recommend\" activeClassName=\"selected\"><TabItem><span > 推荐 </span></TabItem></NavLink>\r\n        <NavLink to=\"/singers\" activeClassName=\"selected\"><TabItem><span > 歌手 </span></TabItem></NavLink>\r\n        <NavLink to=\"/rank\" activeClassName=\"selected\"><TabItem><span > 排行榜 </span></TabItem></NavLink>\r\n      </Tab>\r\n      {renderRoutes(route.routes)}\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport styled, { keyframes } from \"styled-components\";\r\nimport style from \"../../assets/style\";\r\n\r\nconst loading = keyframes`\r\n    0%, 100% {\r\n        transform: scale(0)\r\n    }\r\n    50% {\r\n        transform: scale(1)\r\n    }\r\n`;\r\nconst LoadingContainer = styled.div`\r\n  > div {\r\n    position: fixed;\r\n    z-index: 1000;\r\n    left: 0;\r\n    right: 0;\r\n    top: 0;\r\n    bottom: 0;\r\n    margin: auto;\r\n    width: 60px;\r\n    height: 60px;\r\n    opacity: 0.6;\r\n    border-radius: 50%;\r\n    background-color: ${style[\"theme-color\"]};\r\n    animation: ${loading} 1.4s infinite ease-in;\r\n  }\r\n\r\n  > div:nth-child(2) {\r\n    animation-delay: 0.7s;\r\n  }\r\n`;\r\n\r\nexport const Loading = React.memo(() => {\r\n  return (\r\n    <LoadingContainer>\r\n      <div></div>\r\n      <div></div>\r\n    </LoadingContainer>\r\n  );\r\n});\r\n","export const getCount = (count) => {\r\n    if (count < 0) return;\r\n    if (count < 10000) {\r\n      return count;\r\n    } else if (Math.floor (count / 10000) < 10000) {\r\n      return Math.floor (count/1000)/10 + \"万\";\r\n    } else  {\r\n      return Math.floor (count / 10000000)/ 10 + \"亿\";\r\n    }\r\n  }","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { getCount } from \"../../apis/utils\";\r\nimport style from \"../../assets/style\";\r\nimport LazyLoad from \"react-lazyload\";\r\n\r\nexport const ListWrapper = styled.div`\r\n  max-width: 100%;\r\n  .title {\r\n    font-weight: 700;\r\n    padding-left: 6px;\r\n    font-size: 14px;\r\n    line-height: 60px;\r\n  }\r\n`;\r\nexport const List = styled.div`\r\n  width: 100%;\r\n  display: flex;\r\n  flex-direction: row;\r\n  flex-wrap: wrap;\r\n  justify-content: space-around;\r\n`;\r\n\r\nexport const ListItem = styled.div`\r\n  position: relative;\r\n  width: 32%;\r\n\r\n  .image-wrapper {\r\n    .decorate {\r\n      position: absolute;\r\n      top: 0;\r\n      width: 100%;\r\n      height: 35px;\r\n      border-radius: 3px;\r\n      background: linear-gradient(hsla(0, 0%, 43%, 0.4), hsla(0, 0%, 100%, 0));\r\n    }\r\n    position: relative;\r\n    height: 0;\r\n    padding-bottom: 100%;\r\n    .play-count {\r\n      position: absolute;\r\n      right: 2px;\r\n      top: 2px;\r\n      font-size: ${style[\"font-size-s\"]};\r\n      line-height: 15px;\r\n      color: ${style[\"font-color-light\"]};\r\n      .play {\r\n        vertical-align: top;\r\n      }\r\n    }\r\n    img {\r\n      position: absolute;\r\n      width: 100%;\r\n      height: 100%;\r\n      border-radius: 3px;\r\n    }\r\n  }\r\n  .desc {\r\n    overflow: hidden;\r\n    margin-top: 2px;\r\n    padding: 0 2px;\r\n    height: 50px;\r\n    text-align: left;\r\n    font-size: ${style[\"font-size-s\"]};\r\n    line-height: 1.4;\r\n    color: ${style[\"font-color-desc\"]};\r\n  }\r\n`;\r\n\r\nexport const RecommendList = React.memo(({ recommendList }) => {\r\n  return (\r\n    <ListWrapper>\r\n      <h1 className=\"title\">推荐歌单</h1>\r\n      <List>\r\n        {recommendList.map((recommend) => {\r\n          return (\r\n            <ListItem key={recommend.id}>\r\n              <div className=\"image-wrapper\">\r\n                <LazyLoad\r\n                  placeholder={\r\n                    <img\r\n                      src=\"https://p1.music.126.net/hSrYgWVp_LKnE2EPZdt_dQ==/109951165779590359.jpg\"\r\n                      alt=\"推荐\"\r\n                      height=\"100%\"\r\n                      width=\"100%\"\r\n                    />\r\n                  }\r\n                >\r\n                  <img\r\n                    src={recommend.picUrl}\r\n                    alt=\"推荐\"\r\n                    height=\"100%\"\r\n                    width=\"100%\"\r\n                  />\r\n                </LazyLoad>\r\n                <div className=\"decorate\"></div>\r\n                <div className=\"play-count\">\r\n                  <i className=\"iconfont play\">&#xe885;</i>\r\n                  <span className=\"count\">{getCount(recommend.playCount)}</span>\r\n                </div>\r\n              </div>\r\n              <div className=\"desc\">{recommend.name}</div>\r\n            </ListItem>\r\n          );\r\n        })}\r\n      </List>\r\n    </ListWrapper>\r\n  );\r\n});\r\n","import PropTypes from \"prop-types\";\r\nimport {\r\n  useRef,\r\n  useState,\r\n  forwardRef,\r\n  useEffect,\r\n  useImperativeHandle,\r\n} from \"react\";\r\nimport BScroll from \"better-scroll\";\r\nimport styled from \"styled-components\";\r\n\r\nconst ScrollContainer = styled.div`\r\n  width: 100%;\r\n  height: 100%;\r\n  overflow: hidden;\r\n`;\r\n\r\nconst Scroll = forwardRef((props, ref) => {\r\n  const {\r\n    direction,\r\n    click,\r\n    refresh,\r\n    onScroll,\r\n    pullUp,\r\n    pullDown,\r\n    // pullUpLoading,\r\n    // pullDownLoading,\r\n    bounceTop,\r\n    bounceBottom,\r\n  } = props;\r\n  const [bScroll, setBScroll] = useState(null);\r\n  const scrollContainerRef = useRef();\r\n  useEffect(() => {\r\n    const scroll = new BScroll(scrollContainerRef.current, {\r\n      scrollX: direction === \"horizental\",\r\n      scrollY: direction === \"vertical\",\r\n      probeType: 3,\r\n      click,\r\n      bounce: {\r\n        top: bounceTop,\r\n        bottom: bounceBottom,\r\n      },\r\n    });\r\n    setBScroll(scroll);\r\n\r\n    return () => {\r\n      setBScroll(null);\r\n    };\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (refresh && bScroll) {\r\n      bScroll.refresh();\r\n    }\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (!bScroll || !onScroll) {\r\n      return;\r\n    }\r\n    bScroll.on(\"scroll\", onScroll);\r\n\r\n    return () => {\r\n      bScroll.off(onScroll);\r\n    };\r\n  }, [onScroll, bScroll]);\r\n\r\n  useEffect(() => {\r\n    if (!bScroll || !pullUp) {\r\n      return;\r\n    }\r\n    bScroll.on(\"scrollEnd\", () => {\r\n      if (bScroll.y <= bScroll.maxScrollY + 100) {\r\n        pullUp();\r\n      }\r\n    });\r\n    return () => {\r\n      bScroll.off(\"scrollEnd\");\r\n    };\r\n  }, [pullUp, bScroll]);\r\n\r\n  useEffect(() => {\r\n    if (!bScroll || !pullDown) {\r\n      return;\r\n    }\r\n    bScroll.on(\"touchEnd\", (pos) => {\r\n      if (pos.y <= 50) {\r\n        pullDown();\r\n      }\r\n    });\r\n    return () => {\r\n      bScroll.off(\"scrollEnd\");\r\n    };\r\n  }, [pullDown, bScroll]);\r\n\r\n  useImperativeHandle(ref, () => ({\r\n    refresh() {\r\n      if (bScroll) {\r\n        bScroll.refresh();\r\n        bScroll.scrollTo(0, 0);\r\n      }\r\n    },\r\n    getBScroll() {\r\n      return bScroll || undefined;\r\n    },\r\n  }));\r\n\r\n  return (\r\n    <ScrollContainer ref={scrollContainerRef}>{props.children}</ScrollContainer>\r\n  );\r\n});\r\n\r\nScroll.propTypes = {\r\n  direction: PropTypes.oneOf([\"vertical\", \"horizental\"]),\r\n  click: PropTypes.bool,\r\n  refresh: PropTypes.bool,\r\n  onScroll: PropTypes.func,\r\n  pullUp: PropTypes.func,\r\n  pullDown: PropTypes.func,\r\n  pullUpLoading: PropTypes.bool,\r\n  pullDownLoading: PropTypes.bool,\r\n  bounceTop: PropTypes.bool,\r\n  bounceBottom: PropTypes.bool,\r\n};\r\n\r\nScroll.defaultProps = {\r\n  direction: \"vertical\",\r\n  click: true,\r\n  refresh: true,\r\n  onScroll: null,\r\n  pullDown: null,\r\n  pullUp: null,\r\n  pullDownLoading: true,\r\n  pullUpLoading: true,\r\n  bounceTop: true,\r\n  bounceBottom: true,\r\n};\r\n\r\nexport { Scroll };\r\n","import React, { useEffect, useState } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport Swiper from \"swiper\";\r\nimport style from \"../../assets/style\";\r\nimport \"swiper/dist/css/swiper.css\";\r\n\r\nconst SliderContainer = styled.div`\r\n  position: relative;\r\n  box-sizing: border-box;\r\n  width: 100%;\r\n  height: 100%;\r\n  margin: auto;\r\n  background: white;\r\n  .before {\r\n    position: absolute;\r\n    top: -300px;\r\n    height: 400px;\r\n    width: 100%;\r\n    background: ${style[\"theme-color\"]};\r\n  }\r\n  .slider-container {\r\n    position: relative;\r\n    width: 98%;\r\n    height: 160px;\r\n    overflow: hidden;\r\n    margin: auto;\r\n    border-radius: 6px;\r\n    .slider-nav {\r\n      position: absolute;\r\n      display: block;\r\n      width: 100%;\r\n      height: 100%;\r\n    }\r\n    .swiper-pagination-bullet-active {\r\n      background: ${style[\"theme-color\"]};\r\n    }\r\n  }\r\n`;\r\n\r\nexport const Slider = React.memo(({ bannerList }) => {\r\n  const [sliderSwiper, setSliderSwiper] = useState(null);\r\n  useEffect(() => {\r\n    if (bannerList.length && !sliderSwiper) {\r\n      let newSliderSwiper = new Swiper(\".slider-container\", {\r\n        loop: true,\r\n        autoplay: {\r\n          delay: 3000,\r\n          disableOnInteraction: false,\r\n        },\r\n        pagination: {\r\n          el: \".swiper-pagination\",\r\n        },\r\n      });\r\n      setSliderSwiper(newSliderSwiper);\r\n    }\r\n  }, [bannerList.length, sliderSwiper]);\r\n\r\n  return (\r\n    <SliderContainer>\r\n      <div className=\"before\"></div>\r\n      <div className=\"slider-container\">\r\n        <div className=\"swiper-wrapper\">\r\n          {bannerList.map((banner) => {\r\n            return (\r\n              <div className=\"swiper-slide\" key={banner.imageUrl}>\r\n                <div className=\"slider-nav\">\r\n                  <img\r\n                    src={banner.imageUrl}\r\n                    alt=\"test\"\r\n                    width=\"100%\"\r\n                    height=\"100%\"\r\n                  />\r\n                </div>\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n        <div className=\"swiper-pagination\"></div>\r\n      </div>\r\n    </SliderContainer>\r\n  );\r\n});\r\n","export const CHANGE_BANNER = \"recommend/CHANGE_BANNER\";\r\nexport const CHANGE_RECOMMEND_LIST = \"recommend/CHANGE_RECOMMEND_LIST\";\r\nexport const CHANGE_LOADING = \"recommend/CHANGE_LOADING\";\r\n","import { fromJS } from \"immutable\";\r\n\r\nimport * as actionTypes from \"./constants\";\r\n\r\nconst defaultState = fromJS({\r\n  bannerList: [],\r\n  recommendList: [],\r\n  loading: true,\r\n});\r\n\r\nexport default function reducer(state = defaultState, action) {\r\n  switch (action.type) {\r\n    case actionTypes.CHANGE_BANNER:\r\n      return state.set(\"bannerList\", action.data);\r\n    case actionTypes.CHANGE_RECOMMEND_LIST:\r\n      return state.set(\"recommendList\", action.data);\r\n    case actionTypes.CHANGE_LOADING:\r\n      return state.set(\"loading\", action.data);\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import axios from 'axios'\r\n\r\nexport const baseURL = 'https://xunserver-music.vercel.app/'\r\n\r\nexport const instance = axios.create({\r\n    baseURL\r\n})\r\n\r\ninstance.interceptors.response.use(({ data }) => data)\r\n","import { instance } from \"./config\";\r\n\r\nexport const bannerListReq = () => instance.get('/banner')\r\nexport const RecommendListReq = () => instance.get('/personalized')","import { fromJS } from \"immutable\";\r\nimport { bannerListReq, RecommendListReq } from \"../../../apis/request\";\r\nimport * as actionTypes from \"./constants\";\r\n\r\nexport const changeBannerList = (data) => ({\r\n  type: actionTypes.CHANGE_BANNER,\r\n  data: fromJS(data),\r\n});\r\n\r\nexport const changeRecommendList = (data) => ({\r\n  type: actionTypes.CHANGE_RECOMMEND_LIST,\r\n  data: fromJS(data),\r\n});\r\n\r\nexport const changeLoading = (data) => ({\r\n  type: actionTypes.CHANGE_LOADING,\r\n  data,\r\n});\r\n\r\nexport const getBannerList = () => {\r\n  return (dispatch) => {\r\n    bannerListReq()\r\n      .then((data) => {\r\n        dispatch(changeBannerList(data.banners));\r\n      })\r\n      .catch(console.log);\r\n  };\r\n};\r\n\r\nexport const getRecommendList = () => {\r\n  return (dispatch) => {\r\n    RecommendListReq()\r\n      .then((data) => {\r\n        dispatch(changeRecommendList(data.result));\r\n        dispatch(changeLoading(false));\r\n      })\r\n      .catch(console.log);\r\n  };\r\n};\r\n","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, { useEffect } from \"react\";\r\nimport { forceCheck } from \"react-lazyload\";\r\nimport { connect } from \"react-redux\";\r\nimport styled from \"styled-components\";\r\nimport { Loading } from \"../../components/Loading\";\r\nimport { RecommendList } from \"../../components/RecommendList\";\r\nimport { Scroll } from \"../../components/Scroll\";\r\nimport { Slider } from \"../../components/Slider\";\r\nimport { actinCreators } from \"./store\";\r\n\r\nconst ContentContainer = styled.div`\r\n  position: fixed;\r\n  top: 90px;\r\n  bottom: 0;\r\n  width: 100%;\r\n`;\r\n\r\nlet Recommend = ({\r\n  bannerList,\r\n  recommendList,\r\n  loading,\r\n  getBannerDataDispatch,\r\n  getRecommendDataDispatch,\r\n}) => {\r\n  useEffect(() => {\r\n    getBannerDataDispatch();\r\n    getRecommendDataDispatch();\r\n  }, []);\r\n\r\n  const bannerListJS = bannerList ? bannerList.toJS() : [];\r\n  const recommendListJS = recommendList ? recommendList.toJS() : [];\r\n  return (\r\n    <ContentContainer>\r\n      {loading && <Loading></Loading>}\r\n      <Scroll onScroll={forceCheck}>\r\n        <div>\r\n          <Slider bannerList={bannerListJS}></Slider>\r\n          <RecommendList recommendList={recommendListJS}></RecommendList>\r\n        </div>\r\n      </Scroll>\r\n    </ContentContainer>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    bannerList: state.recommend.get(\"bannerList\"),\r\n    recommendList: state.recommend.get(\"recommendList\"),\r\n    loading: state.recommend.get(\"loading\"),\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    getBannerDataDispatch() {\r\n      dispatch(actinCreators.getBannerList());\r\n    },\r\n    getRecommendDataDispatch() {\r\n      dispatch(actinCreators.getRecommendList());\r\n    },\r\n  };\r\n};\r\n\r\nRecommend = connect(mapStateToProps, mapDispatchToProps)(React.memo(Recommend));\r\n\r\nexport { Recommend };\r\n","import { Redirect } from \"react-router\";\r\nimport { Home } from \"../applications/Home\";\r\nimport { Rank } from \"../applications/Rank\";\r\nimport {Recommend} from \"../applications/Recommend\";\r\nimport { Singers } from \"../applications/Singers\";\r\n\r\nexport const routes = [\r\n  {\r\n    path: \"/\",\r\n    component: Home,\r\n    routes: [\r\n      {\r\n        path: \"/\",\r\n        exact: true,\r\n        render: () => <Redirect to={\"recommend\"} />,\r\n      },\r\n      {\r\n        path: \"/recommend\",\r\n        component: Recommend,\r\n      },\r\n      {\r\n        path: \"/singers\",\r\n        component: Singers,\r\n      },\r\n      {\r\n        path: \"/rank\",\r\n        component: Rank,\r\n      },\r\n    ],\r\n  },\r\n];\r\n","export const Singers = () => {\r\n    return <div>Singers</div>\r\n}","export const Rank = () => {\r\n    return <div>Rank</div>\r\n}","import { combineReducers } from \"redux\";\r\nimport { reducer as recommendReducer } from '../applications/Recommend/store'\r\n\r\nexport default combineReducers({\r\n    recommend: recommendReducer\r\n})","import { compose, createStore, applyMiddleware } from \"redux\";\r\nimport thunk from \"redux-thunk\";\r\nimport reducer from './reducer'\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__  || compose\r\n\r\nexport const store = createStore(reducer, composeEnhancers(\r\n    applyMiddleware(thunk)\r\n))\r\n\r\n","import { createGlobalStyle } from 'styled-components';\r\nexport const GlobalStyle = createGlobalStyle`\r\n\thtml, body, div, span, applet, object, iframe,\r\n\th1, h2, h3, h4, h5, h6, p, blockquote, pre,\r\n\ta, abbr, acronym, address, big, cite, code,\r\n\tdel, dfn, em, img, ins, kbd, q, s, samp,\r\n\tsmall, strike, strong, sub, sup, tt, var,\r\n\tb, u, i, center,\r\n\tdl, dt, dd, ol, ul, li,\r\n\tfieldset, form, label, legend,\r\n\ttable, caption, tbody, tfoot, thead, tr, th, td,\r\n\tarticle, aside, canvas, details, embed, \r\n\tfigure, figcaption, footer, header, hgroup, \r\n\tmenu, nav, output, ruby, section, summary,\r\n\ttime, mark, audio, video {\r\n\t\tmargin: 0;\r\n\t\tpadding: 0;\r\n\t\tborder: 0;\r\n\t\tfont-size: 100%;\r\n\t\tfont: inherit;\r\n\t\tvertical-align: baseline;\r\n\t}\r\n\t/* HTML5 display-role reset for older browsers */\r\n\tarticle, aside, details, figcaption, figure, \r\n\tfooter, header, hgroup, menu, nav, section {\r\n\t\tdisplay: block;\r\n\t}\r\n\tbody {\r\n\t\tline-height: 1;\r\n\t}\r\n\thtml, body {\r\n\t\tbackground: #f2f3f4;;\r\n\t}\r\n\tol, ul {\r\n\t\tlist-style: none;\r\n\t}\r\n\tblockquote, q {\r\n\t\tquotes: none;\r\n\t}\r\n\tblockquote:before, blockquote:after,\r\n\tq:before, q:after {\r\n\t\tcontent: '';\r\n\t\tcontent: none;\r\n\t}\r\n\ttable {\r\n\t\tborder-collapse: collapse;\r\n\t\tborder-spacing: 0;\r\n\t}\r\n\ta {\r\n\t\ttext-decoration: none;\r\n\t\tcolor: #fff;\r\n\t}\r\n`","import { Provider } from \"react-redux\";\r\nimport { renderRoutes } from \"react-router-config\";\r\nimport { HashRouter } from \"react-router-dom\";\r\nimport { IconStyle } from \"./assets/iconfont\";\r\nimport { routes } from \"./routes\";\r\nimport { store } from \"./store\";\r\nimport { GlobalStyle } from \"./style\";\r\n\r\nexport default function App() {\r\n  return (\r\n    <Provider store={store}>\r\n      <GlobalStyle></GlobalStyle>\r\n      <IconStyle></IconStyle>\r\n      <HashRouter>\r\n        {renderRoutes(routes)}\r\n      </HashRouter>\r\n    </Provider>\r\n  );\r\n}\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}